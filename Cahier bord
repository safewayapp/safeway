Historique de travail sur le projet

Vendredi 17/04
- Découverte du projet
- Lecture de documentation sur le Bluetooth Low Energy (BLE) et son implémentation dans Android
- Mise en évidence de problématiques liées à l'application mobile: Comment doit se comporter l'application si on l'a met dans le background du téléphone?

Lundi 20/04
- Elaboration d'une première version de l'application qui scanne des objects utilisant le BLE
- Définition du cadre de l'application: pas de compatibilité avant Lollipop qui comporte la majorité des fonctionnalités liées au BLE
- Demande de permissions à l'exécution

Mardi 21/04
- Correction de la demande de permissions
- Echange avec les autres membres du projet pour avoir plus de détails sur l'application attendue

Mercredi 22/04
- Lecture de documentation sur le BLE et l'advertising. Essai en local d'échange de données avec advertising.

Jeudi 23/04
- Premier test avec advertising
- Utilisation de Nrf connect pour tester l'advertising, il fonctionne
- L'application ne scanne pas tous les devices en dessous de android 5.0, acceptable puisque l'application ne sera disponible qu'à partir d'android 5.0 (lollipop).
- L'application ne scanne pas non plus les ordinateurs sur Ubuntu, ou certains objets comme les casques audio, ce qui est négligeable.

Vendredi 24/04
- Test localisation avec RSSI: très approximatif, surtout que la fonction pour récupérer le TXpower n'est pas disponible en dehors des dernières versions d'android
- piste de réflexion: calcul de distance avec une constante (encore plus approximatif) pour les autres versions? application disponible que sur les téléphones les plus récents? pose problème pour le besoin d'un grand nombre d'utilisateurs
- Ajout checkbox positif au Covid-19, envoi de la valeur par advertising.
- Quand l'application scanne un device on cherche le service contenant la valeur de la checkbox. Si elle est positive, le téléphone vibre pour avertir l'utilisateur.
- Première version de l'app quasi fonctionnelle, manque un système de session pour garder le compte des devices rencontrés

Lundi 27/04
- Test du filtre de Kalman pour améliorer la localisation, résultats non conclusifs, il faudra faire plus de recherche sur le sujet
- Relance l'advertising à chaque changement sur la checkbox
- Utilisation d'un handler pour relancer le scan toutes les 25 min (android 8 stop les scans au bout de 30 min) 
- Ajout de filtres pour le scan sur le service recherché (ne scanne pas tous les appareils qui n'advertisent pas le service recherché)
- Gestion des duplicatas pour le scan: suppression en dessous de 7 secondes (temps approximatif estimé pour dépasser la personne rencontrée)
- Compte de personnes rencontrées gardé en mémoire avec SharedPreference
- Gestion du cycle de vie de l'application: stop du scan si l'application est mise en arrière plan et de l'advertising si elle est arrêtée
